<!--user-dashboard.html-->
{{ template "header.html" .}}
<div class="w3-container w3-center" style="width:75%; margin:auto; padding-top: 100px;">
    <div class="w3-medium">
        {{ if eq .count 0 }}
        <header class="w3-container w3-blue">
            <h3 class="w3-center"> {{ .username }} has no simulations yet. Choose one.</h3>
        </header>
        {{ else }}
        <header class="w3-container w3-blue">
            <h3 class="w3-center"> Simulations for player {{ .username }} </h3>
        </header>

        <table class="w3-small" style="width:80%">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Periods</th>
                    <th>Switch</th>
                    <th>Delete</th>
                    <th>Restart</th>
                    <th>Download</th>
                    <th>Next Pending Action</th>
                </tr>
            </thead>
            <tbody>
                {{ range .simulations}}
                <tr>
                    <td> {{ .Name }}</td>
                    <td> {{ .Periods_Per_Year }}</td>
                    <td>

                        <!-- {% if simulation == simulation.user.current_simulation %} -->
                        <!-- <button class="w3-button w3-round-large w3-grey">Switch</button> -->
                        <a href="/user/switch/{{ .Id }}" class="w3-button w3-round-large w3-green ">Switch</a>

                    </td>

                    <td>
                        <!-- {% if simulation == simulation.user.current_simulation %} -->
                        <!-- <button class="w3-button w3-round-large w3-grey ">Delete</button> -->
                        <a href="/user/delete/{{ .Id }}" class="w3-button w3-round-large w3-red ">Delete</a>
                    </td>

                    <td>
                        <a href="/user/restart/{{ .Id }}" class="w3-button w3-round-large w3-red ">Restart</a>
                    <td> <button class="w3-button w3-grey w3-round-large ">Download</button></td>
                    <td> {{ .State }}</td>
                </tr>
                {{ end }}
            </tbody>
        </table>
        {{ end }}
        <header class="w3-container w3-blue">
            <h3 class="w3-center"> Templates to choose from </h3>
        </header>

        <table id="simulation-templates" class="display compact w3-small" style="width:80%">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Periods</th>
                    <th>Clone</th>
                </tr>
            </thead>
            <tbody>
                {{ range .templates}}
                <tr>
                    <td> {{ .Name }}</td>
                    <td> {{ .Periods_Per_Year }}</td>
                    <td>
                        <a href="{{ .Link }}" class="w3-button w3-round-large w3-green ">Clone this template</a>
                    </td>

                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
    </p>
</div>
</p>


{{ template "footer.html" .}}